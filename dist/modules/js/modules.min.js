this.SignalUI=this.SignalUI||{},this.SignalUI.templates=this.SignalUI.templates||{},this.SignalUI.templates["drop-down-menu"]=SignalUI.Handlebars.template({1:function(){return" drop-down__menu--flush-right"},3:function(){return" drop-down__menu--flush-left"},5:function(e,n,t,o){var i,r,d,l="function",a=n.helperMissing,s=n.blockHelperMissing,c=this.escapeExpression,p='		<li class="drop-down__menu-option';return r=null!=(r=n.isCurrent||(null!=e?e.isCurrent:e))?r:a,d={name:"isCurrent",hash:{},fn:this.program(6,o),inverse:this.noop,data:o},i=typeof r===l?r.call(e,d):r,n.isCurrent||(i=s.call(e,i,d)),null!=i&&(p+=i),p+'"><a tabindex="-1" href="javascript:;" class="drop-down__menu-option-trigger">'+c((r=null!=(r=n.text||(null!=e?e.text:e))?r:a,typeof r===l?r.call(e,{name:"text",hash:{},data:o}):r))+"</a></li>\n"},6:function(e,n,t,o){var i,r,d,l="function",a=n.helperMissing,s=n.blockHelperMissing,c=" drop-down__menu-option--current";return r=null!=(r=n.isHidden||(null!=e?e.isHidden:e))?r:a,d={name:"isHidden",hash:{},fn:this.program(7,o),inverse:this.noop,data:o},i=typeof r===l?r.call(e,d):r,n.isHidden||(i=s.call(e,i,d)),null!=i&&(c+=i),c},7:function(){return" drop-down__menu-option--hidden"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,n,t,o){var i,r,d,l="function",a=n.helperMissing,s=n.blockHelperMissing,c='<ul class="drop-down__menu drop-down__menu--hidden';return r=null!=(r=n.flushRight||(null!=e?e.flushRight:e))?r:a,d={name:"flushRight",hash:{},fn:this.program(1,o),inverse:this.noop,data:o},i=typeof r===l?r.call(e,d):r,n.flushRight||(i=s.call(e,i,d)),null!=i&&(c+=i),r=null!=(r=n.flushLeft||(null!=e?e.flushLeft:e))?r:a,d={name:"flushLeft",hash:{},fn:this.program(3,o),inverse:this.noop,data:o},i=typeof r===l?r.call(e,d):r,n.flushLeft||(i=s.call(e,i,d)),null!=i&&(c+=i),c+='">\n',r=null!=(r=n.menuItems||(null!=e?e.menuItems:e))?r:a,d={name:"menuItems",hash:{},fn:this.program(5,o),inverse:this.noop,data:o},i=typeof r===l?r.call(e,d):r,n.menuItems||(i=s.call(e,i,d)),null!=i&&(c+=i),c+"</ul>\n"},useData:!0}),this.SignalUI.templates["drop-down-trigger"]=SignalUI.Handlebars.template({1:function(){return" drop-down__trigger--fixed"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,n,t,o){var i,r,d,l="function",a=n.helperMissing,s=n.blockHelperMissing,c=this.escapeExpression,p='<button class="drop-down__trigger';return r=null!=(r=n.fixedTrigger||(null!=e?e.fixedTrigger:e))?r:a,d={name:"fixedTrigger",hash:{},fn:this.program(1,o),inverse:this.noop,data:o},i=typeof r===l?r.call(e,d):r,n.fixedTrigger||(i=s.call(e,i,d)),null!=i&&(p+=i),p+'">\n	'+c((r=null!=(r=n.triggerText||(null!=e?e.triggerText:e))?r:a,typeof r===l?r.call(e,{name:"triggerText",hash:{},data:o}):r))+"\n</button>"},useData:!0}),function(e){"use strict";function n(n,t){var o,i,r,d,l,a,s,c=t.className,p=u.test(c),g=h.test(c),m=w.test(c),f={menuItems:[],flushRight:g,flushLeft:m},v={},_="";for(t.className+=" drop-down__select--hidden",o=t.children,d=0,l=o.length;l>d;d+=1)i=o[d],f.menuItems.push({text:i.innerHTML,isCurrent:i.selected,isHidden:i.selected&&p}),i.selected&&(r=i.innerHTML);for(v.triggerText=r,_+=e.templates["drop-down-trigger"](v),_+=e.templates["drop-down-menu"](f),a=document.createElement("div"),a.innerHTML=_,s=a.children;s.length;)n.appendChild(s[0])}function t(n,t,o){var i,r,d,l,a,s,c;for(d=t.children,l=0,a=d.length;a>l;l+=1)d[l].children[0].tabIndex=-1;if(t.className+=" drop-down__menu--hidden",!o)for(i={triggerText:t.getAttribute("drop-down-trigger-text")||"Menu",fixedTrigger:!0},r=e.templates["drop-down-trigger"](i),s=document.createElement("div"),s.innerHTML=r,c=s.children;c.length;)n.insertBefore(c[0],t)}function o(e){var o=e.querySelectorAll(".drop-down__select")[0],i=e.querySelectorAll(".drop-down__trigger")[0],r=e.querySelectorAll(".drop-down__menu")[0];return o?n(e,o):r&&t(e,r,i),!0}function i(e,n){var t=n.clientWidth,o=e.clientWidth;t>o&&!g.test(n.className)&&(e.style.width=t+"px")}function r(e,n,t){function o(n){var o,i;return n.stopPropagation(),n.preventDefault(),m.test(t.className)?(o=new window.CustomEvent("dropDownShow"),e.dispatchEvent(o)):(i=new window.CustomEvent("dropDownHide"),e.dispatchEvent(i)),!1}n.addEventListener?n.addEventListener("click",o,!1):n.attachEvent("click",o)}function d(e,n,t){function o(o){var i,r,d;if(o.stopPropagation(),m.test(t.className))32===o.keyCode&&"A"===o.target.tagName?o.target.click():(39===o.keyCode||40===o.keyCode)&&(i=new window.CustomEvent("dropDownShow"),e.dispatchEvent(i));else if(32===o.keyCode&&"A"===o.target.tagName)o.target.click();else if(37===o.keyCode||38===o.keyCode)if("BUTTON"===o.target.tagName)r=new window.CustomEvent("dropDownHide"),e.dispatchEvent(r);else{for(d=o.target.parentElement.previousSibling,d&&f.test(d.className)&&(d=d.previousSibling);d&&1!==d.nodeType;)d=d.previousSibling,d&&f.test(d.className)&&(d=d.previousSibling);d?d.children[0].focus():n.focus()}else if(39===o.keyCode||40===o.keyCode){for(d="BUTTON"===o.target.tagName?t.children[0]:o.target.parentElement.nextSibling,d&&f.test(d.className)&&(d=d.nextSibling);d&&1!==d.nodeType;)d=d.nextSibling,d&&f.test(d.className)&&(d=d.nextSibling);d&&d.children[0].focus()}}e.addEventListener?e.addEventListener("keyup",o,!1):e.attachEvent("keyup",o)}function l(e,n){function t(n){var t;n.stopPropagation(),"A"===n.target.tagName&&(t=new window.CustomEvent("dropDownSelect",{detail:{select:n.target}}),e.dispatchEvent(t))}n.addEventListener?n.addEventListener("click",t,!1):n.attachEvent("click",t)}function a(e,n,t,o){function i(i){var r,d,l,a;i.stopPropagation(),r=new window.CustomEvent("dropDownWillShow",{detail:{widget:e}}),e.dispatchEvent(r),document.body.dispatchEvent(r),l=t.className,a=n.className,l=l.replace(_," "),a=a.replace(y," ")+" drop-down__trigger--active",t.className=l,n.className=a,d=new window.CustomEvent("dropDownDidShow",{detail:{widget:e}}),document.body.addEventListener?document.body.addEventListener("dropDownWillShow",o,!1):document.body.attachEvent("dropDownWillShow",o),t.scrollTop=1,t.scrollTop=0,n.focus(),e.dispatchEvent(d)}e.addEventListener?e.addEventListener("dropDownShow",i,!1):e.attachEvent("dropDownShow",i)}function s(e,n,t,o){function i(i){var r,d,l,a;i.stopPropagation(),r=new window.CustomEvent("dropDownWillHide",{detail:{widget:e}}),e.dispatchEvent(r),l=t.className,a=n.className,l=l.replace(_," "),l+=" drop-down__menu--hidden",a=a.replace(y," "),t.className=l,n.className=a,d=new window.CustomEvent("dropDownDidHide",{detail:{widget:e}}),document.body.removeEventListener("dropDownWillShow",o,!0),e.dispatchEvent(d)}e.addEventListener?e.addEventListener("dropDownHide",i,!1):e.attachEvent("dropDownHide",i)}function c(e,n,t){function o(o){var i,r,d,l,a,s,c,p,u,g,h=o.detail.select,w=e.querySelectorAll(".drop-down__menu-option--hidden").length;if(o.stopPropagation(),!v.test(n.className)){for(n.innerHTML=h.innerHTML,d=t.children,l=0,a=d.length;a>l;l+=1)s=d[l],c=s.className,c=c.replace(S," "),c=c.replace(E," "),s.children[0]===h&&(c+=" drop-down__menu-option--current",w&&(c+=" drop-down__menu-option--hidden")),s.className=c;if(p=e.querySelectorAll(".drop-down__select")[0]){for(u=-1,g=h.parentElement.previousSibling;g;)1!==g.nodeType&&(u+=1),g=g.previousSibling;p.selectedIndex=u}}r=new window.CustomEvent("dropDownHide",{detail:{widget:e}}),n.focus(),i=new window.CustomEvent("dropDownDidSelect",{detail:{widget:o.detail.widget,selected:o.detail.select}}),e.dispatchEvent(i),e.dispatchEvent(r)}e.addEventListener?e.addEventListener("dropDownSelect",o,!1):e.attachEvent("dropDownSelect",o)}function p(e){var n=e.querySelectorAll(".drop-down__trigger")[0],t=e.querySelectorAll(".drop-down__menu")[0],o=function(n){var t;n.stopPropagation(),n.detail.widget!==e&&(t=new window.CustomEvent("dropDownHide"),e.dispatchEvent(t))};return i(e,t),r(e,n,t),d(e,n,t),l(e,t),a(e,n,t,o),s(e,n,t,o),c(e,n,t),!0}var u=/(^| )drop-down__select--hide-current( |$)/,g=/(^| )drop-down__menu--flush-/,h=/(^| )drop-down__menu--flush-right( |$)/,w=/(^| )drop-down__menu--flush-left( |$)/,m=/(^| )drop-down__menu--hidden( |$)/,f=/(^| )drop-down__menu-option--hidden( |$)/,v=/(^| )drop-down__trigger--fixed( |$)/,_=/(^| )drop-down__menu--hidden( |$)/g,E=/(^| )drop-down__menu-option--hidden( |$)/g,S=/(^| )drop-down__menu-option--current( |$)/g,y=/(^| )drop-down__trigger--active( |$)/g;e.registerWidget({widgetType:"dropDown",widgetClass:"drop-down",build:o,enhance:p})}(window.SignalUI);