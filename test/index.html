<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>Tests</title>
    <link href="../node_modules/mocha/mocha.css" media="screen" rel="stylesheet" type="text/css" />
    <script>
      (function () {
        function CustomEvent ( event, params ) {
          params = params || { bubbles: false, cancelable: false, detail: undefined };
          var evt = document.createEvent( 'CustomEvent' );
          evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );
          return evt;
         };

        CustomEvent.prototype = window.Event.prototype;

        window.CustomEvent = CustomEvent;
      })();

      function isInDOMTree(node) {
       // If the farthest-back ancestor of our node has a "body"
       // property (that node would be the document itself),
       // we assume it is in the page's DOM tree.
       return !!(findUltimateAncestor(node).body);
      }

      function findUltimateAncestor(node) {
       // Walk up the DOM tree until we are at the top (parentNode
       // will return null at that point).
       // NOTE: this will return the same node that was passed in
       // if it has no ancestors.
       var ancestor = node;
       while(ancestor.parentNode) {
        ancestor = ancestor.parentNode;
       }
       return ancestor;
      }
    </script>
    <script src="../test/js/chop-suey.js"></script>
    <script src="../test/js/components.js"></script>
  </head>
  <body>
    <!-- Required for browser reporter -->
    <div id="mocha"></div>

    <script src="../node_modules/mocha/mocha.js"></script>
    <script src="../node_modules/chai/chai.js"></script>

    <script type="text/javascript" charset="utf-8">
      mocha.setup('bdd');
      var should = chai.should();
      window.expect = chai.expect;
      window.assert = chai.assert;
    </script>

    <script src="js/library-test.js"></script>
    <script src="js/components-test.js"></script>

    <script>
      if ( window.mochaPhantomJS ) {
        mochaPhantomJS.run();
      } else {
        mocha.run();
      }
    </script>
  </body>
</html>
